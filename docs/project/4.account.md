后台管理账号设计
=============

管理账号一般对应一种角色，角色则对应多种权限，角色之间的权限不互斥。

权限分为菜单权限、访问控制权限，其中菜单权限代表 URL 的授权访问，访问控制权限代表服务的授权访问。

---

## 权限设计

参考 AuthorizationManager<RequestAuthorizationContext> 这个接口，我们可以自定义访问权限。

首先，Security 框架为我们设定了一套基于注解和角色的权限体系，这是在 URL 和服务接口层固定化的体系，唯一能改动的地方就是为用户赋予固定的几个角色之一。

要设计成为灵活的方案，比如指定某个菜单或者某个按钮，可由某个角色甚至某个用户访问，并且在后台随时添加或删除后，立即生效，那么就要自定义 AuthorizationManager 接口并调用 access 方法去配置 SecurityConfiguration 类。

同时，我们要在用户 Session 中添加菜单数据来匹配 URL 路径和判断是否具有相关权限。

另外，还可以通过与菜单绑定的 ACL 框架，来限制访问某些接口和数据，从而设计出非常灵活的权限。

## 角色设计

- 游客
  - 登录页面
  - 节点列表页面
    - 节点详情页面--包含各大排行榜
    - 节点跳转按钮--方便登录节点
- 用户
  - 包括游客的菜单和访问控制权限
  - 个人资产页面
    - 节点剧本信息
    - 节点玩家列表
    - 节点玩家详情
  - 每周签到页面（暂定，根据运营情况变化，需要设计快速修改的页面）
    - 第一天--绑定的金币1000-10000
    - 第二天--绑定的低级血蓝药瓶一种
    - 第三天--绑定的随机职业低级技能书一本
    - 第四天--绑定的随机低级材料 3 个（可以凝练一次）
    - 第五天--绑定的随机副本门票一张
    - 第六天--绑定的随机大型（双倍经验、双倍知识、双倍金币、双倍血岩）卡一张
    - 第七天--绑定的许愿玉石一颗
  - VIP兑换页面（暂定，同上，hub共享，node重置）
    - V1--首兑1积分--起步资本（绑定金币+10w、绑定材料x10、绑定新手套装）
    - V2--满9积分--每日物资（包含绑定的血瓶、蓝瓶、双倍经验等）、自动吃药
    - V3--满49积分--无限放置、快速补给、自动回收
    - V4--满99积分--每日许愿、一键扫荡
    - V5--满199积分--特殊职业
- 管理员
  - 包括用户的所有权限
  - 会话管理
  - 积分管理
  - 资产管理
  - 节点管理
  - 其他管理
- 超级管理员
  - 包括管理员的所有权限
  - 权限管理
  - 黑白名单管理
  - IP管理
  - 充值管理
  - 账号管理